query PaginatedLedgers(
	$limit: Int = 10
	$offset: Int = 0
	$orderByField: String
	$orderDirection: String
) @auth(expr: "auth.token.role == 'admin'") {
	ledgerFromCsvs(
		limit: $limit
		orderBy: [{ sequence: DESC }]
		offset: $offset
	) {
		id
		accountNo
		transDate
		refCode
		refNo
		amount
		timestamp
		tag
		reading
		consumption
		sequence
		custNo
		createdAt
		updatedAt
	}
}

query CountLedgerFromCsv @auth(expr: "auth.token.role == 'admin'") {
	ledgerFromCsvs {
		_count
	}
}

query SearchLedgerFromCsv($query: String, $limit: Int = 10)
@auth(expr: "auth.token.role == 'admin'") {
	ledgerFromCsvs_search(query: $query, limit: $limit) {
		accountNo
		transDate
		refCode
		refNo
		amount
		timestamp
		tag
		reading
		consumption
		sequence
		custNo
		# Auto-generated fields
		id
		createdAt
		updatedAt
	}
}
