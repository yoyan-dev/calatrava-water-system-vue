query PaginatedBillings($limit: Int = 10, $offset: Int = 0)
@auth(expr: "auth.token.role == 'admin'") {
	billings(limit: $limit, orderBy: [{ billNo: DESC }], offset: $offset) {
		id
		billNo
		billDate
		dueDate
		bStatus
		mrSysNo
		penalized
		mPenalty
		discount
		paid
		verified
		arrearsAmt
		mrrfDue
		curReading
		disconDate
		mtrNo
		preReading
		purokCode
		billPurok
		billBrgy
		prevUsed
		prevUsed2
		prvBillDate
		prvDueDate
		prvDiscon
		stubOut
		amortAmt
		nrWater
		resident {
			id
			accountNo
			fullName
			classType
			book {
				name
			}
		}
		billAmt
		duePenalty
		arrearsEnv
		environmentFee
		totalBill
		waterUsage
		paymentReceipt
		paymentStatus
		paymentDate
		createdAt
		updatedAt
	}
}

query GetBooks @auth(level: PUBLIC) {
	books {
		id
		name
	}
}

query GetBookByName($name: String!) @auth(level: PUBLIC) {
	books(where: { name: { eq: $name } }) {
		id
	}
}

query GetResidentByAccountNo($accountNo: Int!)
@auth(expr: "(auth.token.role == 'admin') || (auth != null)") {
	residents(where: { accountNo: { eq: $accountNo } }) {
		id
	}
}

query GetResidents @auth(expr: "auth.token.role == 'admin'") {
	residents {
		id
		accountNo
		fullName
		classType
		book {
			name
		}
	}
}
